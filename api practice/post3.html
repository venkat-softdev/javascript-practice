<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>post in javascript</title>
  </head>
  <style>
    * {
      margin: 20px;
      font-family: "poppins";
    }
    .box {
      max-width: 400px;
      border-radius: 5px;
      margin: auto;
      padding: 10px;
      border: 1px solid #ccc;
      box-shadow:
        rgba(0, 0, 0, 0.16) 0px 3px 6px,
        rgba(0, 0, 0, 0.23) 0px 3px 6px;
    }
    #form {
      display: flex;
      flex-direction: column;
    }
    label {
      font-weight: 700;
      font-size: 17px;
    }
    input {
      padding: 10px;
      border-radius: 5px;
      border: 2px solid #ccc;
      font-size: 13px;
      margin-bottom: 10px;
    }
    button {
      padding: 13px;
      border: none;
      background-color: blue;
      color: #fff;
      font-size: 17px;
      font-weight: 600;
      border-radius: 5px;
    }
    #resmsg {
      border: 2px solid #ccc;
      background-color: palegreen;
      color: #000;
      font-size: 17px;
      border-radius: 5px;
      padding: 10px;
    }
    #errormsg {
      border: 2px solid #ccc;
      background-color: orangered;
      color: #000;
      font-size: 17px;
      border-radius: 5px;
    }
  </style>
  <body>
    <div class="box">
      <form id="form">
        <label for="name">Name:</label>
        <input type="text" id="name" required />
        <label for="email">Email:</label>
        <input type="email" id="email" required />
        <label for="phone">Phone:</label>
        <input type="tel" id="phone" required />
        <button type="submit">Submit</button>
      </form>
      <div id="resmsg" class="response" style="display: none"></div>
      <div id="errormsg" class="error" style="display: none"></div>
    </div>
    <script>
      const form = document.querySelector("form");
      form.addEventListener("submit", (event) => {
        event.preventDefault();

        const name = document.querySelector("#name").value;
        const phone = document.querySelector("#phone").value;
        const email = document.querySelector("#email").value;

        let newtask = {
          name: name,
          email: email,
          phone: phone,
        };
        fetch("https://694ce310da5ddabf0037bc1a.mockapi.io/animals/person", {
          method: "POST",
          headers: { "Content-Type": "aplication/json" },
          body: JSON.stringify(newtask),
        })
          .then((res) => {
            if (res.ok) {
              return res.json();
            }
            throw new Error("failed to fetch data");
          })
          .then((data) => {
            const resmsg = document.querySelector("#resmsg");
            resmsg.style.display = "block";
            resmsg.textContent = "Task created successfully";
            const error = document.querySelector("#errormsg");
            error.style.display = "none";
          })
          .catch((error) => {
            const errormsg = document.querySelector("#errormsg");
            errormsg.style.display = "block";
            const res = document.querySelector("#resmsg");
            res.style.display = "none";
          });
      });
    </script>
  </body>
</html>
