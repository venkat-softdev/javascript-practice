<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GET Method</title>
  </head>
  <style>
    * {
      margin: 0;
      padding: 0;
      font-family: "poppins";
    }
    body {
      width: 100%;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    button {
      text-align: center;
      padding: 13px;
      width: 200px;
      border: none;
      outline: none;
      background-color: #40739e;
      color: #fff;
      font-size: 18px;
      font-weight: 600;
      border-radius: 5px;
    }
    h2 {
      margin-bottom: 20px;
      font-size: 30px;
    }
    .card {
      max-width: 700px;
      text-align: center;
    }
    .card img {
      border-radius: 5px;
      width: 100%;
      height: 500px;
      object-fit: cover;
      box-shadow:
        rgba(0, 0, 0, 0.16) 0px 1px 4px,
        rgb(51, 51, 51) 0px 0px 0px 3px;
    }
    .card p {
      margin-top: 10px;
      font-weight: 500;
      font-size: 18px;
    }
  </style>
  <body>
    <div class="box">
      <h2>Get method in javascript</h2>
      <button id="btn">Click Me</button>
      <div class="error" id="errormessage"></div>

      <div class="cards" id="cardbox"></div>
    </div>

    <script>
      const btn = document.querySelector("#btn");
      btn.addEventListener("click", getmethod);

      function getmethod() {
        fetch("https://694ce310da5ddabf0037bc1a.mockapi.io/animals/user", {
          method: "GET",
          headers: { "content-type": "application/json" },
        })
          .then((res) => {
            if (res.ok) {
              return res.json();
            }
            throw new Error("failed to fetch");
          })
          .then((data) => {
            const cardbox = document.querySelector("#cardbox");
            cardbox.innerHTML = "";

            data.forEach((value) => {
              const card = `

                <div class="card"> 
                    <h2>${"Name : " + value.name}</h2>
                    <img src="${value.avatar}" alt="${value.name}"/>
                    <h2>${"city : " + value.city}</h2>
                    <p>${"Email : " + value.email}</p>
                    <p>${"Phone : " + value.phone}</P>
                    </div>`;

              cardbox.innerHTML += card;
            });
          })

          .catch((error) => {
            document.querySelector("#errormessage").textContent = error.message;
          });
      }
    </script>
  </body>
</html>
